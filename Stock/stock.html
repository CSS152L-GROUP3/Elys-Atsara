<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Stock Management</title>
  <link rel="stylesheet" href="stock.css">
</head>
<body>

<main>
  <h1>Stock</h1>
  <table>
    <thead>
      <tr>
        <th>Product</th>
        <th>Quantity</th>
        <th>Status</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Small Ely's Atsara</td>
        <td class="quantity-display">[0]</td>
        <td><span class="status"></span></td>
        <td class="action-container">
          <button class="plus-btn">+</button>
          <input type="number" min="0" class="quantity-input">
          <button class="minus-btn">−</button>
        </td>
      </tr>
      <tr>
        <td>Small Ely's Atsara Ampalaya</td>
        <td class="quantity-display">[20]</td>
        <td><span class="status"></span></td>
        <td class="action-container">
          <button class="plus-btn">+</button>
          <input type="number" min="0" class="quantity-input">
          <button class="minus-btn">−</button>
        </td>
      </tr>
      <tr>
        <td>Big Ely's Atsara</td>
        <td class="quantity-display">[14]</td>
        <td><span class="status"></span></td>
        <td class="action-container">
          <button class="plus-btn">+</button>
          <input type="number" min="0" class="quantity-input">
          <button class="minus-btn">−</button>
        </td>
      </tr>
      <tr>
        <td>Big Ely's Atsara Ampalaya</td>
        <td class="quantity-display">[15]</td>
        <td><span class="status"></span></td>
        <td class="action-container">
          <button class="plus-btn">+</button>
          <input type="number" min="0" class="quantity-input">
          <button class="minus-btn">−</button>
        </td>
      </tr>
    </tbody>
  </table>
</main>

<script>
  function updateStatus(row) {
    const quantityCell = row.querySelector('.quantity-display');
    const statusSpan = row.querySelector('.status');
    const quantity = parseInt(quantityCell.textContent.replace(/[^\d]/g, '')) || 0;

    if (quantity <= 0) {
      statusSpan.textContent = "Out of Stock";
      statusSpan.classList.remove('more');
      statusSpan.classList.add('out');
    } else {
      statusSpan.textContent = "More Stock";
      statusSpan.classList.remove('out');
      statusSpan.classList.add('more');
    }
  }

  document.querySelectorAll('tbody tr').forEach(row => {
    const plusBtn = row.querySelector('.plus-btn');
    const minusBtn = row.querySelector('.minus-btn');
    const input = row.querySelector('.quantity-input');
    const quantityCell = row.querySelector('.quantity-display');

    plusBtn.addEventListener('click', () => {
      let currentQuantity = parseInt(quantityCell.textContent.replace(/[^\d]/g, '')) || 0;
      quantityCell.textContent = `[${currentQuantity + 1}]`;
      updateStatus(row);
    });

    minusBtn.addEventListener('click', () => {
      let currentQuantity = parseInt(quantityCell.textContent.replace(/[^\d]/g, '')) || 0;
      quantityCell.textContent = `[${Math.max(0, currentQuantity - 1)}]`;
      updateStatus(row);
    });

    input.addEventListener('change', () => {
      let addAmount = parseInt(input.value) || 0;
      let currentQuantity = parseInt(quantityCell.textContent.replace(/[^\d]/g, '')) || 0;
      quantityCell.textContent = `[${currentQuantity + addAmount}]`;
      input.value = '';
      updateStatus(row);
    });

    updateStatus(row); // Initialize status on load
  });
</script>

</body>
</html>
